pipeline {
  agent any
  
    stages {
        stage('build1') {
            steps{
                step([$class: 'WsCleanup'])
                sh 'git clone https://github.com/20026183-Akash/Sample'
            }
        }
        
        stage('test') {
            parallel{
                stage('Test on Webapp'){
                     steps{
                        sh 'python3 -m pytest Sample/test_sample.py --verbose'
                    }
                }
                stage('Test on Container'){
                    steps{
                        echo 'This is a test on the container'
                    }
                }
            }
           
  
    }   
    	agent { label "linux" }
	stages{
        stage('deploy the DOcker Container'){
            steps{
                

                docker pull {tomsik68/xampp}
		docker system prune -af
		docker build https://github.com/tomsik68/docker-xampp/blob/master/Dockerfile
		docker run -it -d -p 62030:80 tomsik68/xampp
            }
        }
	}

}
}


